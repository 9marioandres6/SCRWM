<app-init></app-init>
<div class="body">  
    <app-incises></app-incises>
    <div class="right">
        <ng-container *ngFor="let user of authService.users">
            <div *ngIf="user._id === selectedUser">  
                <ul *ngFor="let scrwm of scrwmService.scrwms">
                    <div *ngIf="scrwm.creator === selectedUser">
                        <mat-accordion>
                            <mat-expansion-panel hideToggle>
                            <mat-expansion-panel-header >
                                <mat-panel-title style="margin-top: 5px;">
                                    <img src="assets/perfil.jpg" class="circle" style="height: 40px">
                                </mat-panel-title>
                                <mat-panel-description style="color: blue;">
                                    <p style="height: 35px; overflow: hidden; margin-top: 5px;">{{ scrwm.title }}</p>
                                </mat-panel-description>
                            </mat-expansion-panel-header>
                            <p style="font-size: 10px; max-height: 40px; color: gray;">
                               {{ scrwm.updatedAt }} -- {{ scrwm.createdAt }}
                            </p>
                            <p class="subtitle" (click)="showAround.getByScrwm(scrwm)" style="color: lightblue; cursor:pointer">
                                {{ scrwm.subtitle }}</p>
                                <i class="material-icons" style="font-size: 18px; float: right; cursor: pointer;" (click)="editScrwm(scrwm)">edit</i>
                                <i class="material-icons" style="font-size: 18px; float: right; cursor: pointer;" (click)="deleteScrwm(scrwm)">delete</i>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div>
                </ul>
            </div>
            <div *ngIf="user._id != selectedUser"> 
                <ul *ngFor="let scrwm of scrwmService.scrwms">
                    <div *ngIf="scrwm.creator === user._id">
                        <mat-accordion>
                            <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false" *ngIf="user._id != selectedUser">
                            <mat-expansion-panel-header>
                                <mat-panel-title style="width: 100px;">
                                    {{ user.username }}
                                </mat-panel-title>
                                <mat-panel-description style="color: blue">
                                    {{ scrwm.title }}
                                </mat-panel-description>
                            </mat-expansion-panel-header>
                            <p (click)="showAround.getByScrwm(scrwm)" style="color: lightblue; cursor:pointer">{{ scrwm.subtitle }}
                                <i class="material-icons" style="font-size: 18px; float: right; cursor: pointer;" (click)="editScrwm(scrwm)">edit</i>
                                <i class="material-icons" style="font-size: 18px; float: right; cursor: pointer;" (click)="deleteScrwm(scrwm)">delete</i>
                            </p>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div>
                </ul>         
            </div>
        </ng-container>
        <div style="text-align: right; margin-right: 50px; position: absolute; bottom: 40px; right: 10px;" (click)="editUser()">
            <img src="assets/perfil.jpg" class="circle" style="width: 60px; border: brown; border-style: outset">
        </div>
    </div>
</div>


